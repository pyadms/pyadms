SET (ADMSXML_INPUTS
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceVersion.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEitf.h.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEinit.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEinit.h.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEext.h.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEdefs.h.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEask.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEmask.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEpar.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEmpar.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEload.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEacld.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEpzld.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEtemp.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEsetup.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULEguesstopology.c.xml
${CMAKE_CURRENT_SOURCE_DIR}/ngspiceMODULE.c.xml
)


ADD_CUSTOM_COMMAND(
  OUTPUT ${CMAKE_CURRENT_SOURCE_DIR}/ngspice.xml
  DEPENDS ${ADMSXML_INPUTS}
  WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
  COMMAND cat ${ADMSXML_INPUTS} > ngspice.xml
)

ADD_CUSTOM_TARGET(TEST_PREP ALL DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/ngspice.xml)
